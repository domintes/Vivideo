<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêõ Vivideo v3.1 - Bug Fixes</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
        }
        
        .fix-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.3);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }
        
        .fix-header h1 {
            font-size: 2.5em;
            margin: 0 0 10px 0;
            background: linear-gradient(45deg, #ff4757, #ff6b6b, #ff3838);
            -webkit-background-clip: text;
            -moz-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(255, 71, 87, 0.5);
        }
        
        .error-box {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: monospace;
        }
        
        .error-box.fixed {
            background: rgba(0, 255, 0, 0.1);
            border-color: rgba(0, 255, 0, 0.3);
        }
        
        .error-title {
            color: #ff4757;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .error-box.fixed .error-title {
            color: #51cf66;
        }
        
        .shortcut-key {
            background: #333;
            border: 1px solid #555;
            border-radius: 4px;
            padding: 4px 8px;
            font-family: monospace;
            color: #fff;
            font-weight: bold;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            backdrop-filter: blur(15px);
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            border-color: rgba(0, 255, 65, 0.5);
            box-shadow: 0 0 25px rgba(0, 255, 65, 0.2);
            transform: translateY(-5px);
        }
        
        .feature-card h3 {
            color: #00ff41;
            margin-top: 0;
            font-size: 1.4em;
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
        }

        .debug-section {
            margin: 30px 0;
            padding: 25px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
        }
        
        .debug-section h2 {
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            margin-top: 0;
        }

        .debug-path {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            margin: 10px 0;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="fix-header">
        <h1>üêõ Vivideo v3.1</h1>
        <p><strong>Bug Fixes & Debug Info</strong></p>
        <p>Naci≈õnij <span class="shortcut-key">Alt + V</span> lub kliknij ikonƒô rozszerzenia</p>
    </div>

    <div class="error-box fixed">
        <div class="error-title">‚úÖ NAPRAWIONE: Syntax Error</div>
        <div><strong>B≈ÇƒÖd:</strong> Uncaught SyntaxError: Unexpected token '&lt;'</div>
        <div><strong>Lokalizacja:</strong> content.js:392</div>
        <div><strong>Przyczyna:</strong> Template string nie zosta≈Ç prawid≈Çowo zako≈Ñczony</div>
        <div><strong>RozwiƒÖzanie:</strong> Naprawiono zamkniƒôcie template string w createUI()</div>
    </div>

    <div class="error-box fixed">
        <div class="error-title">‚úÖ NAPRAWIONE: Runtime Connection Error</div>
        <div><strong>B≈ÇƒÖd:</strong> Could not establish connection. Receiving end does not exist.</div>
        <div><strong>Lokalizacja:</strong> background.js</div>
        <div><strong>Przyczyna:</strong> BrakujƒÖcy message handler w content script</div>
        <div><strong>RozwiƒÖzanie:</strong> Dodano chrome.runtime.onMessage.addListener() do content.js</div>
    </div>

    <div class="error-box fixed">
        <div class="error-title">‚úÖ NAPRAWIONE: Ikony rozszerzenia</div>
        <div><strong>Problem:</strong> Ikony z folderu icons/ nie dzia≈Ça≈Çy</div>
        <div><strong>RozwiƒÖzanie:</strong> Zmieniono na src/assets/icon/ w manifest.json</div>
        <div><strong>Nowe ≈õcie≈ºki:</strong></div>
        <ul>
            <li>16px: src/assets/icon/icon_16.png</li>
            <li>32px: src/assets/icon/icon_32.png</li>
            <li>48px: src/assets/icon/icon_48.png</li>
            <li>128px: src/assets/icon/icon_128.png</li>
        </ul>
    </div>

    <div class="debug-section">
        <h2>üìÇ Lokalizacje plik√≥w tymczasowych</h2>
        
        <h4>Windows - Chrome Extensions:</h4>
        <div class="debug-path">C:\Users\[Username]\AppData\Local\Google\Chrome\User Data\Default\Extensions\</div>
        <div class="debug-path">C:\Users\[Username]\AppData\Local\Google\Chrome\User Data\Default\Local Extension Settings\</div>
        
        <h4>Sprawdzenie Extension ID:</h4>
        <ol>
            <li>Otw√≥rz <code>chrome://extensions/</code></li>
            <li>W≈ÇƒÖcz "Developer mode"</li>
            <li>Znajd≈∫ Vivideo i kliknij "Details"</li>
            <li>Sprawd≈∫ "Extension ID"</li>
            <li>Folder bƒôdzie w <code>Extensions\[EXTENSION_ID]\</code></li>
        </ol>

        <h4>Czyszczenie cache (je≈õli sƒÖ problemy):</h4>
        <div class="debug-path">
# PowerShell (jako administrator)<br>
Stop-Process -Name "chrome" -Force<br>
Remove-Item -Path "$env:LOCALAPPDATA\Google\Chrome\User Data\Default\Extensions\*" -Recurse -Force<br>
Remove-Item -Path "$env:LOCALAPPDATA\Google\Chrome\User Data\Default\Local Extension Settings\*" -Recurse -Force
        </div>
    </div>

    <div class="feature-grid">
        <div class="feature-card">
            <h3>üîß Naprawione funkcje</h3>
            <ul>
                <li><strong>Template String:</strong> Prawid≈Çowe zako≈Ñczenie HTML</li>
                <li><strong>Message Handler:</strong> Komunikacja background ‚Üî content</li>
                <li><strong>Ikony:</strong> U≈ºywa plik√≥w z src/assets/icon/</li>
                <li><strong>Keyboard Shortcut:</strong> Alt+V dzia≈Ça bezpo≈õrednio</li>
                <li><strong>Theme Colors:</strong> Podw√≥jny color picker funkcjonalny</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>üéØ Nowe funkcje v3.1</h3>
            <ul>
                <li><strong>Direct Message Handling:</strong> Szybsza komunikacja</li>
                <li><strong>Keyboard Override:</strong> Alt+V bezpo≈õrednio w content script</li>
                <li><strong>Better Error Handling:</strong> Graceful fallbacks</li>
                <li><strong>Icon Fallbacks:</strong> Wiele rozmiar√≥w ikon</li>
                <li><strong>Debug Utilities:</strong> Lepsze logowanie b≈Çƒôd√≥w</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>üß™ Test Checklist</h3>
            <ul>
                <li>‚úÖ Brak b≈Çƒôd√≥w w Console (F12)</li>
                <li>‚úÖ Alt+V dzia≈Ça poprawnie</li>
                <li>‚úÖ Ikona rozszerzenia widoczna</li>
                <li>‚úÖ Background script komunikuje siƒô</li>
                <li>‚úÖ Font Theme Color dzia≈Ça</li>
                <li>‚úÖ Background Theme Color dzia≈Ça</li>
                <li>‚úÖ Profile saving/loading dzia≈Ça</li>
                <li>‚úÖ Layout: Themes‚ÜíProfiles‚ÜíForm</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>üö® Troubleshooting</h3>
            <ul>
                <li><strong>Je≈õli Alt+V nie dzia≈Ça:</strong> Prze≈Çaduj stronƒô</li>
                <li><strong>Je≈õli ikona nie widaƒá:</strong> Sprawd≈∫ chrome://extensions/</li>
                <li><strong>Je≈õli sƒÖ b≈Çƒôdy:</strong> Sprawd≈∫ Console (F12)</li>
                <li><strong>Persistent problems:</strong> Wyczy≈õƒá cache rozszerzenia</li>
                <li><strong>Last resort:</strong> Przeinstaluj rozszerzenie</li>
            </ul>
        </div>
    </div>

    <div class="debug-section">
        <h2>üîç Console Commands dla debugowania</h2>
        <div class="debug-path">
// Sprawd≈∫ czy Vivideo jest za≈Çadowane<br>
console.log('Vivideo Controller:', window.vivideoController);<br><br>

// Sprawd≈∫ komunikacjƒô z background<br>
chrome.runtime.sendMessage({action: 'test'}, response => console.log(response));<br><br>

// Force toggle Vivideo<br>
if (window.vivideoController) window.vivideoController.toggle();<br><br>

// Sprawd≈∫ theme colors<br>
if (window.vivideoController) console.log(window.vivideoController.themeColors);
        </div>
    </div>

    <script>
        console.log('üêõ Vivideo v3.1 Debug Page loaded');
        console.log('‚úÖ All critical bugs fixed:');
        console.log('  - Syntax Error (template string)');
        console.log('  - Runtime Connection Error (message handler)');
        console.log('  - Icon paths (src/assets/icon/)');
        console.log('üìñ Press Alt+V or click extension icon to test!');
        
        // Test Vivideo presence
        setTimeout(() => {
            if (window.vivideoController) {
                console.log('‚úÖ Vivideo Controller detected and working!');
            } else {
                console.log('‚ö†Ô∏è Vivideo Controller not found - check extension loading');
            }
        }, 2000);
    </script>
</body>
</html>
