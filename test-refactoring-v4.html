<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vivideo v4.0 - Test refaktoryzacji</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .test-video {
            width: 640px;
            height: 360px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            margin: 20px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
        }
        .test-image {
            width: 300px;
            height: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 20px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        .instructions {
            background: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .version-info {
            background: #0d7377;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success {
            background: #27ae60;
            color: white;
        }
        .warning {
            background: #f39c12;
            color: white;
        }
        .error {
            background: #e74c3c;
            color: white;
        }
    </style>
</head>
<body>
    <h1>🎬 Vivideo v4.0 - Test refaktoryzacji</h1>
    
    <div class="version-info">
        <h2>✨ Co nowego w v4.0:</h2>
        <ul>
            <li>🔧 <strong>Naprawiony błąd składni</strong> - "Unexpected token '<'" w linii 394</li>
            <li>📁 <strong>Modularność</strong> - Kod podzielony na logiczne komponenty</li>
            <li>🏗️ <strong>Nowa architektura</strong> - src/components/, src/utils/</li>
            <li>⚡ <strong>Async/Await</strong> - Lepsze zarządzanie Storage API</li>
            <li>🎨 <strong>HSL Color Picker</strong> - Zaawansowana personalizacja motywów</li>
        </ul>
    </div>

    <div class="instructions">
        <h2>🧪 Instrukcje testowe:</h2>
        <ol>
            <li><strong>Otwórz DevTools</strong> (F12) i sprawdź konsolę - nie powinno być błędów składni</li>
            <li><strong>Naciśnij Alt+V</strong> aby otworzyć panel Vivideo</li>
            <li><strong>Testuj suwaki</strong> na poniższych elementach testowych</li>
            <li><strong>Sprawdź Profile</strong> - zapisz, załaduj, usuń</li>
            <li><strong>Testuj Themes</strong> - przełącz między Cybernetic a Casual</li>
            <li><strong>HSL Color Picker</strong> - dostosuj kolory motywu</li>
            <li><strong>Auto-activate</strong> - sprawdź czy działa odznaczenie/zaznaczenie</li>
            <li><strong>Work on images</strong> - sprawdź czy filtry działają na obrazach</li>
        </ol>
    </div>

    <h2>🎯 Elementy testowe:</h2>
    
    <!-- Test Video Element -->
    <video controls width="640" height="360" loop>
        <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
        <div class="test-video">Test Video (Fallback)</div>
    </video>

    <!-- Test Div jako Video -->
    <div class="test-video">
        🎬 Test Video Div<br>
        <small>Symulacja video do testów filtrów</small>
    </div>

    <!-- Test Images -->
    <img src="https://picsum.photos/300/200?random=1" alt="Test Image 1" style="border-radius: 8px; margin: 10px;">
    <img src="https://picsum.photos/300/200?random=2" alt="Test Image 2" style="border-radius: 8px; margin: 10px;">
    
    <div class="test-image">
        🖼️ Test Image Div<br>
        <small>Symulacja obrazu</small>
    </div>

    <h2>🔍 Status komponentów:</h2>
    <div id="component-status">
        <div class="status" id="main-status">⏳ Sprawdzanie głównego kontrolera...</div>
        <div class="status" id="controls-status">⏳ Sprawdzanie VideoControls...</div>
        <div class="status" id="profiles-status">⏳ Sprawdzanie ProfileManager...</div>
        <div class="status" id="themes-status">⏳ Sprawdzanie ThemeManager...</div>
        <div class="status" id="engine-status">⏳ Sprawdzanie VideoFilterEngine...</div>
        <div class="status" id="storage-status">⏳ Sprawdzanie StorageUtils...</div>
        <div class="status" id="ui-status">⏳ Sprawdzanie UIHelper...</div>
    </div>

    <div class="instructions">
        <h3>🐛 Debugowanie:</h3>
        <p>Jeśli extension nie działa:</p>
        <ol>
            <li>Otwórz <strong>chrome://extensions/</strong></li>
            <li>Włącz <strong>Developer mode</strong></li>
            <li>Kliknij <strong>Reload</strong> przy Vivideo extension</li>
            <li>Odśwież tę stronę (F5)</li>
            <li>Sprawdź Console (F12) czy są błędy</li>
        </ol>
    </div>

    <script>
        // Test component availability
        function checkComponent(name, className, statusId) {
            const statusEl = document.getElementById(statusId);
            if (window[className]) {
                statusEl.textContent = `✅ ${name} - Załadowany`;
                statusEl.className = 'status success';
            } else {
                statusEl.textContent = `❌ ${name} - Błąd ładowania`;
                statusEl.className = 'status error';
            }
        }

        // Wait for extension to load
        setTimeout(() => {
            checkComponent('VivideoController', 'vivideoController', 'main-status');
            checkComponent('VideoControls', 'VideoControls', 'controls-status');
            checkComponent('ProfileManager', 'ProfileManager', 'profiles-status');
            checkComponent('ThemeManager', 'ThemeManager', 'themes-status');
            checkComponent('VideoFilterEngine', 'VideoFilterEngine', 'engine-status');
            checkComponent('StorageUtils', 'StorageUtils', 'storage-status');
            checkComponent('UIHelper', 'UIHelper', 'ui-status');
        }, 2000);

        // Test keyboard shortcut
        document.addEventListener('keydown', (e) => {
            if (e.altKey && e.key === 'v') {
                console.log('🎯 Alt+V detected - Vivideo should toggle');
            }
        });

        console.log('🎬 Vivideo v4.0 Test Page Loaded');
        console.log('📁 New modular architecture ready for testing');
    </script>
</body>
</html>
